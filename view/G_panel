<div data-ng-controller="gestion">
	<div class="row">
		<a href="index.php?P=G_log&amp;action=logout" class="btn btn-sm btn-warning">
			   	<span class="glyphicon glyphicon-off"></span> Déconnexion
		</a>
		<a href="#" class="btn btn-sm col-sm-offset-9 btn-success">
			<span class="glyphicon glyphicon-plus-sign"></span> Ajout de licencié
		</a>
	</div>
	<div>
		<div class="row" >
			<div class="col-md-3 col-md-offset-1">Nombre de résultat par page:
		        <select ng-model="entryLimit" class="form-control">
		            <option>5</option>
		            <option>10</option>
		            <option>20</option>
		            <option>50</option>
		            <option>100</option>
		        </select>
		    </div>
		    <div class="col-md-3 col-md-offset-1">Filtrer les données:
		        <input type="text" ng-model="search" ng-change="filter()" placeholder="Filtre" class="form-control" />
		    </div>
		    <div class="col-md-4 ">
		        <h5>{{ filtered.length }} joueurs affiché sur {{ totalItems}} au total</h5>
		    </div>
		</div>
		<br/>
		<div class="row">
		    <div class="col-md-12" ng-show="filteredItems > 0">
		        <table class="table table-striped table-bordered">
		        <thead>
			        <th>Catégorie&nbsp;<a ng-click="sort_by('categorie');"><i class="glyphicon glyphicon-sort-by-alphabet-alt"></i></a></th>
			        <th>nom&nbsp;<a ng-click="sort_by('licence');"><i class="glyphicon glyphicon-sort-by-alphabet-alt"></i></a></th>
			        <th>Prénom&nbsp;<a ng-click="sort_by('nom');"><i class="glyphicon glyphicon-sort-by-alphabet-alt"></i></a></th>
			        <th>Licence&nbsp;<a ng-click="sort_by('prenom');"><i class="glyphicon glyphicon-sort-by-alphabet-alt"></i></a></th>
			        <th>Telephone&nbsp;<a ng-click="sort_by('tel');"><i class="glyphicon glyphicon-sort-by-alphabet-alt"></i></a></th>
			        <th>Ville&nbsp;<a ng-click="sort_by('ville');"><i class="glyphicon glyphicon-sort-by-alphabet-alt"></i></a></th>
			        <th>E-Mail&nbsp;<a ng-click="sort_by('mail');"><i class="glyphicon glyphicon-sort-by-alphabet-alt"></i></a></th>
		        </thead>
		        <tbody>
		            <tr ng-repeat="data in filtered = (list | filter:search | orderBy : predicate :reverse) | startFrom:(currentPage-1)*entryLimit | limitTo:entryLimit">
		                <td>{{data.categorie}}</td>
		                <td>{{data.nom}}</td>
		                <td>{{data.prenom}}</td>
		                <td>{{data.licence}}</td>
		                <td>{{data.tel}}</td>
		                <td>{{data.ville}}</td>
		                <td ng-init="data.index = $index">{{data.mail}}</td>
		                <td>{{data.ID}}</td>
		                <td>	
							<div class="btn-group">
								<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
							    	Action <span class="caret"></span>
								</button>
								<ul class="dropdown-menu" role="menu" style="left: -120%;">
									<li>
										<a href="#modal-change" ng-click="change( data.index )" data-toggle="modal" >Modifier</a>
									</li>
									<li class="divider"></li>
									<li>
										<a href="#" ng-click="delete(data.ID)" >Supprimer</a>
									</li>
								</ul>
							</div>
		                </td>
		            </tr>
		        </tbody>
		        </table>
		    </div>
		    <div class="col-md-12" ng-show="filteredItems == 0">
		        <div class="col-md-12">
		            <h4>No customers found</h4>
		        </div>
		    </div>
		    <div class="col-md-12" ng-show="filteredItems > 0">
		        <div pagination="" 
		        	 page="currentPage" 
		        	 on-select-page="setPage(page)" 
		        	 boundary-links="true" 
		        	 total-items="filteredItems" 
		        	 items-per-page="entryLimit" 
		        	 class="pagination-small" 
		        	 previous-text="&laquo;" 
		        	 next-text="&raquo;">
		        </div>		 
		    </div>
		</div>
	</div>
	<!-- FORMULAIRE LIGHTBOX -->
	<div class="modal fade" id="modal-change" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<form method="POST" action="inc/G_action.php" class="form-horizontal">
					<div class="modal-header">
	                    <div class="modal-header">
							<h1>Modification d'un licencié</h1>
							<div class="col-sm-6 col-sm-offset-3" style="float: none;">
								<input required name="nom"     type="text" value="{{modNom}}">
								<div class="form-group">
								    <div class="input-group">
								    	<div class="input-group-addon">Nom</div>
								    	<input required name="mail" 
								    		   class="form-control" 
								    		   type="email" 
								    		   value="{{modNom}}">
									</div>
								</div>
								<div class="form-group">
								    <div class="input-group">
								    	<div class="input-group-addon">Prénom</div>
								    	<input required name="mail" 
								    		   class="form-control" 
								    		   type="email" 
								    		   value="{{modPre}}">
									</div>
								</div>
								<div class="form-group">
								    <div class="input-group">
								    	<div class="input-group-addon">N° Licence</div>
								    	<input required name="licence" 
								    		   class="form-control" 
								    		   type="text" 
								    		   value="{{modLic}}">
									</div>
								</div>
								<div class="form-group">
								    <div class="input-group">
								    	<div class="input-group-addon">Ville</div>
								    	<input required name="ville" 
								    		   class="form-control" 
								    		   type="text" 
								    		   value="{{modVil}}">
									</div>
								</div>
								<div class="form-group">
								    <div class="input-group">
								    	<div class="input-group-addon">Téléphone</div>
								    	<input required name="tel" 
								    		   class="form-control" 
								    		   type="tel" 
								    		   value="{{modTel}}">
									</div>
								</div>
								<div class="form-group">
								    <div class="input-group">
								    	<div class="input-group-addon">@ E-Mail</div>
								    	<input required name="mail" 
								    		   class="form-control" 
								    		   type="email" 
								    		   value="{{modMai}}">
									</div>
								</div>
								<select name="cat" class="form-control">
									<option value="{{modcat}}" selected>{{modCat}}</option>
									<option ng-repeat="cat in cats">{{cat.nom}}</option>
								</select>
								<input type="hidden" name="identifiant" ng-value="modId">
								<input type="submit">
							</div>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

